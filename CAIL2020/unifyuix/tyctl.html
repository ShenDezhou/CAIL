<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Post Data</title>
    <!--<script src="js/jquery.min.js"></script>-->
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
            font-size: 16px;
        }

        table, table tr th, table tr td {
            border: 1px solid #7197b9;
            border-collapse: collapse;
            padding: 4px;
            vertical-align: top;
        }
    </style>
</head>
<body style="background-color: #d5d8dc;">
    <table style="width: 100%; height: 100%;">
        <tr>
            <td colspan="2" style="font-size: 22px; color: #fff; height: 50px; text-align: center; background-color: #7197b9; vertical-align: middle;">Web服务数据请求
            </td>
        </tr>
        <tr style="height: 30px; text-align: center;">
            <td colspan="2">url：<input id="input_url" type="text" value="139.198.13.204:58087/z" /></td>
        </tr>

        <tr style="height: 30px; background-color: #e2eaf1;">
            <td style="width: 50%;">输入：
                
                <button onclick="claertext();return false;" style="float: right;">清空</button>

            </td>
            <td>输出：</td>
        </tr>
        <tr style="height: 500px; background-color: #fff;">
            <td>
                <textarea id="input" style="width: 100%; height: 100%;">
示例:智能问答词推理.
    推理公式（男孩）-（女孩）+（兄弟）= 姐妹
---------------
男孩 女孩 兄弟 姐妹
男孩 女孩 爸爸 妈妈
男孩 女孩 父亲 母亲
男孩 女孩 祖父 祖母
男孩 女孩 爷爷 奶奶
男孩 女孩 孙子 孙女
男孩 女孩 新郎 新娘
男孩 女孩 丈夫 妻子
男孩 女孩 国王 王后
男孩 女孩 男人 女人
男孩 女孩 侄子 侄女
男孩 女孩 王子 公主
男孩 女孩 儿子 女儿
男孩 女孩 继父 继母
男孩 女孩 继子 继女
男孩 女孩 叔叔 阿姨
兄弟 姐妹 爸爸 妈妈
兄弟 姐妹 父亲 母亲
兄弟 姐妹 祖父 祖母
兄弟 姐妹 爷爷 奶奶
兄弟 姐妹 孙子 孙女
兄弟 姐妹 新郎 新娘
兄弟 姐妹 丈夫 妻子
兄弟 姐妹 国王 王后
兄弟 姐妹 男人 女人
兄弟 姐妹 侄子 侄女
兄弟 姐妹 王子 公主
兄弟 姐妹 儿子 女儿
兄弟 姐妹 继父 继母
兄弟 姐妹 继子 继女
兄弟 姐妹 叔叔 阿姨
兄弟 姐妹 男孩 女孩
爸爸 妈妈 父亲 母亲
爸爸 妈妈 祖父 祖母
爸爸 妈妈 爷爷 奶奶
爸爸 妈妈 孙子 孙女
爸爸 妈妈 新郎 新娘
爸爸 妈妈 丈夫 妻子
爸爸 妈妈 国王 王后
爸爸 妈妈 男人 女人
爸爸 妈妈 侄子 侄女
爸爸 妈妈 王子 公主
爸爸 妈妈 儿子 女儿
爸爸 妈妈 继父 继母
爸爸 妈妈 继子 继女
爸爸 妈妈 叔叔 阿姨
爸爸 妈妈 男孩 女孩
爸爸 妈妈 兄弟 姐妹
父亲 母亲 祖父 祖母
父亲 母亲 爷爷 奶奶
父亲 母亲 孙子 孙女
父亲 母亲 新郎 新娘
父亲 母亲 丈夫 妻子
父亲 母亲 国王 王后
父亲 母亲 男人 女人
父亲 母亲 侄子 侄女
父亲 母亲 王子 公主
父亲 母亲 儿子 女儿
父亲 母亲 继父 继母
父亲 母亲 继子 继女
父亲 母亲 叔叔 阿姨
父亲 母亲 男孩 女孩
父亲 母亲 兄弟 姐妹
父亲 母亲 爸爸 妈妈
祖父 祖母 爷爷 奶奶
祖父 祖母 孙子 孙女
祖父 祖母 新郎 新娘
祖父 祖母 丈夫 妻子
祖父 祖母 国王 王后
祖父 祖母 男人 女人
祖父 祖母 侄子 侄女
祖父 祖母 王子 公主
祖父 祖母 儿子 女儿
祖父 祖母 继父 继母
祖父 祖母 继子 继女
祖父 祖母 叔叔 阿姨
祖父 祖母 男孩 女孩
祖父 祖母 兄弟 姐妹
祖父 祖母 爸爸 妈妈
祖父 祖母 父亲 母亲
爷爷 奶奶 孙子 孙女
爷爷 奶奶 新郎 新娘
爷爷 奶奶 丈夫 妻子
爷爷 奶奶 国王 王后
爷爷 奶奶 男人 女人
爷爷 奶奶 侄子 侄女
爷爷 奶奶 王子 公主
爷爷 奶奶 儿子 女儿
爷爷 奶奶 继父 继母
爷爷 奶奶 继子 继女
爷爷 奶奶 叔叔 阿姨
爷爷 奶奶 男孩 女孩
爷爷 奶奶 兄弟 姐妹
爷爷 奶奶 爸爸 妈妈
爷爷 奶奶 父亲 母亲
爷爷 奶奶 祖父 祖母
孙子 孙女 新郎 新娘
孙子 孙女 丈夫 妻子
孙子 孙女 国王 王后
孙子 孙女 男人 女人
孙子 孙女 侄子 侄女
孙子 孙女 王子 公主
孙子 孙女 儿子 女儿
孙子 孙女 继父 继母
孙子 孙女 继子 继女
孙子 孙女 叔叔 阿姨
孙子 孙女 男孩 女孩
孙子 孙女 兄弟 姐妹
孙子 孙女 爸爸 妈妈
孙子 孙女 父亲 母亲
孙子 孙女 祖父 祖母
孙子 孙女 爷爷 奶奶
新郎 新娘 丈夫 妻子
新郎 新娘 国王 王后
新郎 新娘 男人 女人
新郎 新娘 侄子 侄女
新郎 新娘 王子 公主
新郎 新娘 儿子 女儿
新郎 新娘 继父 继母
新郎 新娘 继子 继女
新郎 新娘 叔叔 阿姨
新郎 新娘 男孩 女孩
新郎 新娘 兄弟 姐妹
新郎 新娘 爸爸 妈妈
新郎 新娘 父亲 母亲
新郎 新娘 祖父 祖母
新郎 新娘 爷爷 奶奶
新郎 新娘 孙子 孙女
丈夫 妻子 国王 王后
丈夫 妻子 男人 女人
丈夫 妻子 侄子 侄女
丈夫 妻子 王子 公主
丈夫 妻子 儿子 女儿
丈夫 妻子 继父 继母
丈夫 妻子 继子 继女
丈夫 妻子 叔叔 阿姨
丈夫 妻子 男孩 女孩
丈夫 妻子 兄弟 姐妹
丈夫 妻子 爸爸 妈妈
丈夫 妻子 父亲 母亲
丈夫 妻子 祖父 祖母
丈夫 妻子 爷爷 奶奶
丈夫 妻子 孙子 孙女
丈夫 妻子 新郎 新娘
国王 王后 男人 女人
国王 王后 侄子 侄女
国王 王后 王子 公主
国王 王后 儿子 女儿
国王 王后 继父 继母
国王 王后 继子 继女
国王 王后 叔叔 阿姨
国王 王后 男孩 女孩
国王 王后 兄弟 姐妹
国王 王后 爸爸 妈妈
国王 王后 父亲 母亲
国王 王后 祖父 祖母
国王 王后 爷爷 奶奶
国王 王后 孙子 孙女
国王 王后 新郎 新娘
国王 王后 丈夫 妻子
男人 女人 侄子 侄女
男人 女人 王子 公主
男人 女人 儿子 女儿
男人 女人 继父 继母
男人 女人 继子 继女
男人 女人 叔叔 阿姨
男人 女人 男孩 女孩
男人 女人 兄弟 姐妹
男人 女人 爸爸 妈妈
男人 女人 父亲 母亲
男人 女人 祖父 祖母
男人 女人 爷爷 奶奶
男人 女人 孙子 孙女
男人 女人 新郎 新娘
男人 女人 丈夫 妻子
男人 女人 国王 王后
侄子 侄女 王子 公主
侄子 侄女 儿子 女儿
侄子 侄女 继父 继母
侄子 侄女 继子 继女
侄子 侄女 叔叔 阿姨
侄子 侄女 男孩 女孩
侄子 侄女 兄弟 姐妹
侄子 侄女 爸爸 妈妈
侄子 侄女 父亲 母亲
侄子 侄女 祖父 祖母
侄子 侄女 爷爷 奶奶
侄子 侄女 孙子 孙女
侄子 侄女 新郎 新娘
侄子 侄女 丈夫 妻子
侄子 侄女 国王 王后
侄子 侄女 男人 女人
王子 公主 儿子 女儿
王子 公主 继父 继母
王子 公主 继子 继女
王子 公主 叔叔 阿姨
王子 公主 男孩 女孩
王子 公主 兄弟 姐妹
王子 公主 爸爸 妈妈
王子 公主 父亲 母亲
王子 公主 祖父 祖母
王子 公主 爷爷 奶奶
王子 公主 孙子 孙女
王子 公主 新郎 新娘
王子 公主 丈夫 妻子
王子 公主 国王 王后
王子 公主 男人 女人
王子 公主 侄子 侄女
儿子 女儿 继父 继母
儿子 女儿 继子 继女
儿子 女儿 叔叔 阿姨
儿子 女儿 男孩 女孩
儿子 女儿 兄弟 姐妹
儿子 女儿 爸爸 妈妈
儿子 女儿 父亲 母亲
儿子 女儿 祖父 祖母
儿子 女儿 爷爷 奶奶
儿子 女儿 孙子 孙女
儿子 女儿 新郎 新娘
儿子 女儿 丈夫 妻子
儿子 女儿 国王 王后
儿子 女儿 男人 女人
儿子 女儿 侄子 侄女
儿子 女儿 王子 公主
继父 继母 继子 继女
继父 继母 叔叔 阿姨
继父 继母 男孩 女孩
继父 继母 兄弟 姐妹
继父 继母 爸爸 妈妈
继父 继母 父亲 母亲
继父 继母 祖父 祖母
继父 继母 爷爷 奶奶
继父 继母 孙子 孙女
继父 继母 新郎 新娘
继父 继母 丈夫 妻子
继父 继母 国王 王后
继父 继母 男人 女人
继父 继母 侄子 侄女
继父 继母 王子 公主
继父 继母 儿子 女儿
继子 继女 叔叔 阿姨
继子 继女 男孩 女孩
继子 继女 兄弟 姐妹
继子 继女 爸爸 妈妈
继子 继女 父亲 母亲
继子 继女 祖父 祖母
继子 继女 爷爷 奶奶
继子 继女 孙子 孙女
继子 继女 新郎 新娘
继子 继女 丈夫 妻子
继子 继女 国王 王后
继子 继女 男人 女人
继子 继女 侄子 侄女
继子 继女 王子 公主
继子 继女 儿子 女儿
继子 继女 继父 继母
叔叔 阿姨 男孩 女孩
叔叔 阿姨 兄弟 姐妹
叔叔 阿姨 爸爸 妈妈
叔叔 阿姨 父亲 母亲
叔叔 阿姨 祖父 祖母
叔叔 阿姨 爷爷 奶奶
叔叔 阿姨 孙子 孙女
叔叔 阿姨 新郎 新娘
叔叔 阿姨 丈夫 妻子
叔叔 阿姨 国王 王后
叔叔 阿姨 男人 女人
叔叔 阿姨 侄子 侄女
叔叔 阿姨 王子 公主
叔叔 阿姨 儿子 女儿
叔叔 阿姨 继父 继母
叔叔 阿姨 继子 继女
    </textarea></td>
            <td>
                <div id="output"></div>
            </td>
        </tr>
        <tr>
            <td colspan="2" style="height: 50px; text-align: center; background-color: #7197b9; vertical-align: middle;">
                <button onclick="dopost();" style="padding: 4px 40px; cursor: pointer;">确　认</button>
            </td>
        </tr>
    </table>
</body>
<script>


    function dopost() {
        var url = 'http://' + $('#input_url').val(); 'http://139.198.13.204:58087/z';
        const regex = /（([\u4e00-\u9fa5\w]+)）/ig;
        var input = $('#input').val();

        let gidarray = input.matchAll(regex);
        gidarray = Array.from(gidarray);
        debugger

        let operand1 = gidarray[0];
        let substract = gidarray[1];
        let operand2 = gidarray[2];
        var mydata = {
            'pos': [operand1[1], operand2[1]],
            'neg': [substract[1]],
            'topn': 3
        };

        $('#output').html('正在读取数据，请稍候......');
        $.ajax({
            type: 'POST',
            url: url,
            async: true,
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(mydata),
            success: function (res) {
                var data = res.data;
                var ss = "";

                for (let i = 0; i < data.length; i++) {
                    ss += data[i][0] + ",相似度:" + (data[i][1]*100).toFixed(6) + "%<br/>"
                }
                $('#output').html(ss);
            },
            error: function (xhr, textStatus) {
                var err = xhr.status + ',' + xhr.readyState + ',' + textStatus;
                if (xhr.readyState == 0 && xhr.status == 0) {
                    err = '调用被拒绝!  ' + textStatus;
                }

                $('#output').html(err);
            },
            timeout: 60000,
            dataType: 'JSON'
        })


    }

    function claertext() {
        $('#input').val('');
        $('#input').focus();
    }
</script>


</html>
